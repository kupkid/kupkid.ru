# Notes Format Specification

## File Structure

Notes are stored in `/notes/` directory as HTML files.

## Metadata Header

Each note must include metadata in the first HTML comment:

```html
<!--
date: 2025-02-14
title: winter and burnout
title_ru: про зиму и выгорание
description: living in the north, dealing with seasonal depression
description_ru: жизнь на севере, борьба с сезонной депрессией
tags: burnout, winter, north
status: published
draft: false
-->
```

## Required Fields

- **date** (YYYY-MM-DD): Publication date
- **title** (string): English title
- **title_ru** (string): Russian title

## Optional Fields

- **description** (string): English short description (for SEO/previews)
- **description_ru** (string): Russian description
- **tags** (comma-separated): Categories
- **status** (published|draft): Visibility
- **draft** (boolean): If true, hidden from listing

## File Naming

Use kebab-case:
```
notes/
  winter-and-burnout.html
  telegram-bot-guide.html
  rust-learning-log.html
```

## Content Structure

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>winter and burnout - kupkid</title>
    <!-- ... -->
</head>
<body>
    <!--
    date: 2025-02-14
    title: winter and burnout
    title_ru: про зиму и выгорание
    tags: personal, burnout
    -->
    
    <h1 data-i18n="title">winter and burnout</h1>
    <!-- content -->
</body>
</html>
```

## Auto-Generated Index

`notes.json` is auto-generated by GitHub Actions on every push:

```json
{
  "updated": "2025-02-14T15:45:00Z",
  "notes": [
    {
      "slug": "winter-and-burnout",
      "date": "2025-02-14",
      "title": "winter and burnout",
      "title_ru": "про зиму и выгорание",
      "description": "...",
      "tags": ["burnout", "winter"],
      "url": "/notes/winter-and-burnout.html"
    }
  ]
}
```

## Caching Strategy

- Client: LocalStorage with 5-minute TTL
- Server: Caddy cache headers (1 hour)
- GitHub API: 60 req/hour public, 5000 req/hour with token

## API Endpoint

Single endpoint returns all notes:
```
GET /notes.json
```

No individual file requests needed.
